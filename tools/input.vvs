section text
.start
    alloc r1 4
    alloc r2 4
    
    uload r3 0x0048004900000000 ; "HI" and zeros
    uload r4 4

    store r1 r3 r4
    memcpy r2 r1 r4

    call @print_4
    movr r1 r2
    call @print_4

    halt

func print_4
    push r2
    push r3

    uload r2 1
    uload r3 4
    ncall 1 r0

    pop r3
    pop r2
    ret
